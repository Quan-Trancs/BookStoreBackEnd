# ğŸ“Š BookStore Backend - Process Structure & Architecture

## ğŸ—ï¸ **System Architecture Overview**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           BOOKSTORE BACKEND SYSTEM                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚   CLIENT/FE     â”‚    â”‚   LOAD BALANCER â”‚    â”‚   REVERSE PROXY â”‚            â”‚
â”‚  â”‚   (Frontend)    â”‚â”€â”€â”€â–¶â”‚   (Optional)    â”‚â”€â”€â”€â–¶â”‚   (Nginx)       â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                    â”‚                                           â”‚
â”‚                                    â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        SPRING BOOT APPLICATION                             â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚ â”‚
â”‚  â”‚  â”‚   CONTROLLERS   â”‚  â”‚     SERVICES    â”‚  â”‚   REPOSITORIES  â”‚            â”‚ â”‚
â”‚  â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚            â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ BookControllerâ”‚  â”‚ â€¢ BookService   â”‚  â”‚ â€¢ BookRepositoryâ”‚            â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ UserControllerâ”‚  â”‚ â€¢ UserService   â”‚  â”‚ â€¢ UserRepositoryâ”‚            â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ AuthControllerâ”‚  â”‚ â€¢ TaskService   â”‚  â”‚ â€¢ AuthorRepo    â”‚            â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ AsyncControllerâ”‚ â”‚ â€¢ AsyncTaskSvc  â”‚  â”‚ â€¢ PublisherRepo â”‚            â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚ â”‚
â”‚  â”‚           â”‚                     â”‚                     â”‚                    â”‚ â”‚
â”‚  â”‚           â–¼                     â–¼                     â–¼                    â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚ â”‚
â”‚  â”‚  â”‚   VALIDATION    â”‚  â”‚   BUSINESS LOGICâ”‚  â”‚   DATA ACCESS   â”‚            â”‚ â”‚
â”‚  â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚            â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Bean Validationâ”‚ â”‚ â€¢ BookBusiness  â”‚  â”‚ â€¢ JPA/Hibernate â”‚            â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Custom Validatorsâ”‚ â€¢ UserBusiness  â”‚  â”‚ â€¢ Query Optimizationâ”‚        â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ DTO Validationâ”‚ â”‚ â€¢ Task Processingâ”‚  â”‚ â€¢ Connection Poolâ”‚            â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                                           â”‚
â”‚                                    â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                           ASYNC PROCESSING LAYER                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚ â”‚
â”‚  â”‚  â”‚ WORK ACCEPTOR   â”‚  â”‚ BACKGROUND WORKERâ”‚  â”‚   TASK SERVICE  â”‚            â”‚ â”‚
â”‚  â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚            â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Auth Validationâ”‚ â”‚ â€¢ Task Queue    â”‚  â”‚ â€¢ Task Executionâ”‚            â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Request Filterâ”‚ â”‚ â€¢ Worker Threads â”‚  â”‚ â€¢ Progress Trackâ”‚            â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Rate Limiting â”‚ â”‚ â€¢ Status Updates â”‚  â”‚ â€¢ Error Handlingâ”‚            â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                                           â”‚
â”‚                                    â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                           CACHING LAYER                                    â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚ â”‚
â”‚  â”‚  â”‚   L1 CACHE      â”‚  â”‚   L2 CACHE      â”‚  â”‚   CACHE MANAGER â”‚            â”‚ â”‚
â”‚  â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚            â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Caffeine      â”‚  â”‚ â€¢ Redis         â”‚  â”‚ â€¢ CompositeCacheâ”‚            â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ In-Memory     â”‚  â”‚ â€¢ Distributed   â”‚  â”‚ â€¢ TTL Managementâ”‚            â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Fast Access   â”‚  â”‚ â€¢ Persistence   â”‚  â”‚ â€¢ Cache Evictionâ”‚            â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                                           â”‚
â”‚                                    â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚   POSTGRESQL    â”‚    â”‚     REDIS       â”‚    â”‚   FILE SYSTEM   â”‚            â”‚
â”‚  â”‚   DATABASE      â”‚    â”‚   (Optional)    â”‚    â”‚   (Logs/Uploads)â”‚            â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚            â”‚
â”‚  â”‚ â€¢ Book Data     â”‚    â”‚ â€¢ Session Store â”‚    â”‚ â€¢ Application   â”‚            â”‚
â”‚  â”‚ â€¢ User Data     â”‚    â”‚ â€¢ Cache Data    â”‚    â”‚   Logs          â”‚            â”‚
â”‚  â”‚ â€¢ Audit Data    â”‚    â”‚ â€¢ Task Queue    â”‚    â”‚ â€¢ File Uploads  â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ **Request Flow Process**

### **1. Synchronous Request Flow**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CLIENT    â”‚â”€â”€â”€â–¶â”‚ CONTROLLER  â”‚â”€â”€â”€â–¶â”‚   SERVICE   â”‚â”€â”€â”€â–¶â”‚ REPOSITORY  â”‚
â”‚  (Frontend) â”‚    â”‚             â”‚    â”‚             â”‚    â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â–²                   â”‚                   â”‚                   â”‚
       â”‚                   â–¼                   â–¼                   â–¼
       â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚            â”‚ VALIDATION  â”‚    â”‚ BUSINESS    â”‚    â”‚   DATABASE  â”‚
       â”‚            â”‚             â”‚    â”‚   LOGIC     â”‚    â”‚             â”‚
       â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                   â”‚                   â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â–¼                   â–¼                   â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   CACHE     â”‚    â”‚   CACHE     â”‚    â”‚   CACHE     â”‚
                    â”‚   (L1/L2)   â”‚    â”‚   (L1/L2)   â”‚    â”‚   (L1/L2)   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **2. Asynchronous Request Flow**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CLIENT    â”‚â”€â”€â”€â–¶â”‚ CONTROLLER  â”‚â”€â”€â”€â–¶â”‚ WORK ACCEPTORâ”‚â”€â”€â”€â–¶â”‚ TASK QUEUE  â”‚
â”‚  (Frontend) â”‚    â”‚             â”‚    â”‚             â”‚    â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â–²                   â”‚                   â”‚                   â”‚
       â”‚                   â–¼                   â–¼                   â–¼
       â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚            â”‚ TASK STATUS â”‚    â”‚ AUTH CHECK  â”‚    â”‚ BACKGROUND  â”‚
       â”‚            â”‚   RESPONSE  â”‚    â”‚             â”‚    â”‚   WORKER    â”‚
       â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                   â”‚                   â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â–¼                   â–¼                   â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ TASK SERVICEâ”‚    â”‚ PROGRESS    â”‚    â”‚   DATABASE  â”‚
                    â”‚             â”‚    â”‚  UPDATES    â”‚    â”‚   UPDATE    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“‹ **Detailed Process Breakdown**

### **A. Authentication & Authorization Flow**
```
1. User Login Request
   â”œâ”€â”€ UserController.login()
   â”œâ”€â”€ UserService.login()
   â”œâ”€â”€ UserBusiness.login()
   â”œâ”€â”€ UserRepository.findByUserName()
   â”œâ”€â”€ PasswordUtil.verifyPassword()
   â””â”€â”€ Return: User Key (Session Token)

2. Request Authorization
   â”œâ”€â”€ AsyncProcessingWorkAcceptor.acceptWork()
   â”œâ”€â”€ Validate UserModel (userName, key)
   â”œâ”€â”€ UserRepository.findByUserName()
   â”œâ”€â”€ Verify key matches stored key
   â””â”€â”€ Return: Authorization Status [200/400/401]
```

### **B. Book Management Flow**
```
1. Book CRUD Operations
   â”œâ”€â”€ BookController (createBook, updateBook, deleteBook, getBook)
   â”œâ”€â”€ BookService (createBook, updateBook, deleteBook, findBookById)
   â”œâ”€â”€ BookBusiness (business logic validation)
   â”œâ”€â”€ BookRepository (database operations)
   â”œâ”€â”€ BookEntity (JPA entity)
   â””â”€â”€ Return: BookResponseDto or Paginate<BookResponseDto>

2. Book Search & Filtering
   â”œâ”€â”€ BookController.findBooks()
   â”œâ”€â”€ BookService.findBooks()
   â”œâ”€â”€ BookRepository.findBooksWithSearch()
   â”œâ”€â”€ Query Optimization (indexes, projections)
   â”œâ”€â”€ Caching (L1: Caffeine, L2: Redis)
   â””â”€â”€ Return: Paginated results
```

### **C. Async Task Processing Flow**
```
1. Task Submission
   â”œâ”€â”€ BookController.asyncUpdateBook()
   â”œâ”€â”€ AsyncTaskService.submitTask()
   â”œâ”€â”€ AsyncProcessingWorkAcceptor.acceptWork()
   â”œâ”€â”€ AsyncProcessingBackgroundWorker.addToRequestQueue()
   â””â”€â”€ Return: Task ID for status tracking

2. Task Execution
   â”œâ”€â”€ Background Worker Thread
   â”œâ”€â”€ TaskService.runTask()
   â”œâ”€â”€ AsyncTaskService.updateTaskStatus()
   â”œâ”€â”€ Complex Processing Steps:
   â”‚   â”œâ”€â”€ Inventory Check (10%)
   â”‚   â”œâ”€â”€ Dynamic Pricing (30%)
   â”‚   â”œâ”€â”€ Book Update (60%)
   â”‚   â””â”€â”€ Notifications (90%)
   â””â”€â”€ Final Status Update (100%)

3. Task Status Monitoring
   â”œâ”€â”€ AsyncTaskController.getTaskStatus()
   â”œâ”€â”€ AsyncTaskService.getTaskStatus()
   â”œâ”€â”€ In-memory task store (ConcurrentHashMap)
   â””â”€â”€ Return: Task status and progress
```

### **D. File Processing Flow**
```
1. CSV Upload
   â”œâ”€â”€ BookController.uploadBooks()
   â”œâ”€â”€ BookService.processBookUpload()
   â”œâ”€â”€ CSV parsing and validation
   â”œâ”€â”€ Batch database operations
   â””â”€â”€ Return: Upload status

2. CSV Download
   â”œâ”€â”€ BookController.downloadBooks()
   â”œâ”€â”€ BookService.downloadBooks()
   â”œâ”€â”€ Database query for all books
   â”œâ”€â”€ CSV generation
   â””â”€â”€ Return: CSV file response
```

## ğŸ”§ **Configuration & Infrastructure**

### **A. Application Configuration**
```
1. Database Configuration
   â”œâ”€â”€ PostgreSQL connection pool (HikariCP)
   â”œâ”€â”€ JPA/Hibernate settings
   â”œâ”€â”€ Query optimization
   â””â”€â”€ Migration scripts

2. Caching Configuration
   â”œâ”€â”€ Caffeine (L1 cache)
   â”œâ”€â”€ Redis (L2 cache)
   â”œâ”€â”€ Composite cache manager
   â””â”€â”€ TTL and eviction policies

3. Async Processing Configuration
   â”œâ”€â”€ Thread pool settings
   â”œâ”€â”€ Task queue management
   â”œâ”€â”€ Worker thread count
   â””â”€â”€ Task timeout settings

4. Security Configuration
   â”œâ”€â”€ CORS settings
   â”œâ”€â”€ Rate limiting
   â”œâ”€â”€ Input validation
   â””â”€â”€ Password hashing
```

### **B. Monitoring & Health Checks**
```
1. Spring Boot Actuator
   â”œâ”€â”€ Health endpoints
   â”œâ”€â”€ Metrics collection
   â”œâ”€â”€ Application info
   â””â”€â”€ Environment info

2. Logging
   â”œâ”€â”€ Log4j2 configuration
   â”œâ”€â”€ Structured logging
   â”œâ”€â”€ Log rotation
   â””â”€â”€ Performance monitoring

3. Database Monitoring
   â”œâ”€â”€ Connection pool metrics
   â”œâ”€â”€ Query performance
   â”œâ”€â”€ Index usage stats
   â””â”€â”€ Slow query detection
```

## ğŸš€ **Deployment Architecture**

### **A. Docker Deployment**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DOCKER COMPOSE STACK                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚   POSTGRESQL    â”‚    â”‚   REDIS         â”‚                    â”‚
â”‚  â”‚   CONTAINER     â”‚    â”‚   CONTAINER     â”‚                    â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚                    â”‚
â”‚  â”‚ â€¢ Database      â”‚    â”‚ â€¢ Cache Store   â”‚                    â”‚
â”‚  â”‚ â€¢ Migrations    â”‚    â”‚ â€¢ Session Store â”‚                    â”‚
â”‚  â”‚ â€¢ Health Checks â”‚    â”‚ â€¢ Task Queue    â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚           â”‚                       â”‚                            â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                                   â”‚                            â”‚
â”‚                                   â–¼                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              BOOKSTORE BACKEND CONTAINER                   â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚ â”‚
â”‚  â”‚  â”‚   SPRING BOOT   â”‚  â”‚   JVM OPTIONS   â”‚                  â”‚ â”‚
â”‚  â”‚  â”‚   APPLICATION   â”‚  â”‚                 â”‚                  â”‚ â”‚
â”‚  â”‚  â”‚                 â”‚  â”‚ â€¢ Memory tuning â”‚                  â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ REST API      â”‚  â”‚ â€¢ GC settings   â”‚                  â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Async Workers â”‚  â”‚ â€¢ Performance   â”‚                  â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Health Checks â”‚  â”‚   optimization  â”‚                  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                   â”‚                            â”‚
â”‚                                   â–¼                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              NGINX REVERSE PROXY (Optional)                â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚ â€¢ Load balancing                                            â”‚ â”‚
â”‚  â”‚ â€¢ SSL termination                                           â”‚ â”‚
â”‚  â”‚ â€¢ Rate limiting                                             â”‚ â”‚
â”‚  â”‚ â€¢ Static file serving                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **B. Production Considerations**
```
1. Scalability
   â”œâ”€â”€ Horizontal scaling (multiple instances)
   â”œâ”€â”€ Database clustering
   â”œâ”€â”€ Redis clustering
   â””â”€â”€ Load balancer configuration

2. Security
   â”œâ”€â”€ SSL/TLS encryption
   â”œâ”€â”€ API key management
   â”œâ”€â”€ Input sanitization
   â””â”€â”€ Rate limiting

3. Monitoring
   â”œâ”€â”€ Application metrics
   â”œâ”€â”€ Database performance
   â”œâ”€â”€ Error tracking
   â””â”€â”€ Alerting systems

4. Backup & Recovery
   â”œâ”€â”€ Database backups
   â”œâ”€â”€ Configuration backups
   â”œâ”€â”€ Disaster recovery plan
   â””â”€â”€ Data retention policies
```

## ğŸ“Š **Performance Optimization**

### **A. Database Optimization**
```
1. Indexing Strategy
   â”œâ”€â”€ Primary key indexes
   â”œâ”€â”€ Foreign key indexes
   â”œâ”€â”€ Composite indexes
   â”œâ”€â”€ Full-text search indexes
   â””â”€â”€ Partial indexes

2. Query Optimization
   â”œâ”€â”€ JOIN FETCH for N+1 problem
   â”œâ”€â”€ Query projections
   â”œâ”€â”€ Batch operations
   â””â”€â”€ Cursor-based pagination

3. Connection Pooling
   â”œâ”€â”€ HikariCP configuration
   â”œâ”€â”€ Pool size optimization
   â”œâ”€â”€ Connection timeout settings
   â””â”€â”€ Leak detection
```

### **B. Caching Strategy**
```
1. L1 Cache (Caffeine)
   â”œâ”€â”€ In-memory caching
   â”œâ”€â”€ Fast access patterns
   â”œâ”€â”€ Eviction policies
   â””â”€â”€ Size limits

2. L2 Cache (Redis)
   â”œâ”€â”€ Distributed caching
   â”œâ”€â”€ Session storage
   â”œâ”€â”€ Task queue
   â””â”€â”€ Cross-instance sharing

3. Cache Invalidation
   â”œâ”€â”€ TTL-based expiration
   â”œâ”€â”€ Event-driven invalidation
   â”œâ”€â”€ Manual cache clearing
   â””â”€â”€ Cache warming strategies
```

This comprehensive process structure shows how the BookStore backend system handles both synchronous and asynchronous operations, with proper separation of concerns, caching strategies, and production-ready deployment architecture. 